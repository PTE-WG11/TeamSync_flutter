# TeamSync åŠŸèƒ½æ¨¡å—æ‹†è§£æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **é¡¹ç›®åç§°**: TeamSync å›¢é˜Ÿåä½œç®¡ç†ç³»ç»Ÿ
- **ç‰ˆæœ¬**: v1.0
- **é˜¶æ®µ**: Flutter Webç«¯ä¼˜å…ˆ
- **æ—¥æœŸ**: 2026-02-10

---

## 1. ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TeamSync ç³»ç»Ÿæ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¡¨ç°å±‚ (Flutter Web)                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   è®¤è¯æ¨¡å—   â”‚  é¡¹ç›®ç®¡ç†    â”‚  ä»»åŠ¡ç®¡ç†    â”‚  å¯è§†åŒ–æ¨¡å—  â”‚  æˆå‘˜ç®¡ç†    â”‚ â”‚
â”‚  â”‚   Auth      â”‚  Project    â”‚    Task     â”‚ Visualizationâ”‚   Member    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚  é€šçŸ¥ä¸­å¿ƒ    â”‚  æ–‡ä»¶ç®¡ç†    â”‚  ç³»ç»Ÿè®¾ç½®    â”‚                              â”‚
â”‚  â”‚Notification â”‚   File      â”‚   Setting   â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœåŠ¡å±‚ (BLoC/Provider)                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ çŠ¶æ€ç®¡ç†     â”‚ API æœåŠ¡    â”‚ WebSocket   â”‚ æœ¬åœ°å­˜å‚¨     â”‚               â”‚
â”‚  â”‚   State     â”‚   Service   â”‚   Service   â”‚   Storage   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å±‚ (Repository)                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ç”¨æˆ·ä»“åº“     â”‚ é¡¹ç›®ä»“åº“     â”‚ ä»»åŠ¡ä»“åº“     â”‚ æ–‡ä»¶ä»“åº“     â”‚               â”‚
â”‚  â”‚  User Repo  â”‚ Project Repoâ”‚  Task Repo  â”‚  File Repo  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. åŠŸèƒ½æ¨¡å—è¯¦ç»†æ‹†è§£

### 2.1 è®¤è¯æ¨¡å— (Auth Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | AUTH-001 |
| **æ¨¡å—åç§°** | ç”¨æˆ·è®¤è¯ä¸æˆæƒ |
| **ä¼˜å…ˆçº§** | P0 - æ ¸å¿ƒé˜»å¡æ¨¡å— |
| **æ¶‰åŠè§’è‰²** | æ‰€æœ‰è§’è‰² |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ |
|---------|---------|---------|--------|
| AUTH-001-01 | ç”¨æˆ·ç™»å½• | JWT Tokenè·å–ï¼Œæ”¯æŒusername/password | M |
| AUTH-001-02 | Tokenåˆ·æ–° | Access Tokenè¿‡æœŸè‡ªåŠ¨åˆ·æ–° | M |
| AUTH-001-03 | ç”¨æˆ·ç™»å‡º | æ³¨é”€å¹¶æ‹‰é»‘Token | L |
| AUTH-001-04 | å½“å‰ç”¨æˆ·ä¿¡æ¯ | è·å–ç™»å½•ç”¨æˆ·è¯¦æƒ…åŠæƒé™ | L |
| AUTH-001-05 | è·¯ç”±å®ˆå« | åŸºäºè§’è‰²çš„é¡µé¢è®¿é—®æ§åˆ¶ | M |

#### æ•°æ®æ¨¡å‹

```dart
// ç”¨æˆ·æ¨¡å‹
class User {
  final int id;
  final String username;
  final String email;
  final UserRole role; // super_admin, team_admin, member, visitor
  final int? teamId;
  final DateTime createdAt;
}

// Tokenæ¨¡å‹
class AuthToken {
  final String accessToken;
  final String refreshToken;
  final DateTime expiresAt;
}

enum UserRole {
  superAdmin,
  teamAdmin,
  member,
  visitor,
}
```

---

### 2.2 é¡¹ç›®ç®¡ç†æ¨¡å— (Project Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | PROJ-001 |
| **æ¨¡å—åç§°** | é¡¹ç›®ç®¡ç† |
| **ä¼˜å…ˆçº§** | P0 - æ ¸å¿ƒé˜»å¡æ¨¡å— |
| **æ¶‰åŠè§’è‰²** | Super Admin, Team Admin, Member |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§’è‰²æƒé™ |
|---------|---------|---------|--------|---------|
| PROJ-001-01 | é¡¹ç›®åˆ—è¡¨ | æŸ¥çœ‹æ‰€æœ‰é¡¹ç›®ï¼ˆå«å½’æ¡£ï¼‰ | M | æ‰€æœ‰æˆå‘˜ |
| PROJ-001-02 | åˆ›å»ºé¡¹ç›® | åˆ›å»ºé¡¹ç›®+åˆ†é…åˆå§‹æˆå‘˜ | M | Super Admin, Team Admin |
| PROJ-001-03 | é¡¹ç›®è¯¦æƒ… | æŸ¥çœ‹é¡¹ç›®åŸºæœ¬ä¿¡æ¯ | L | æ‰€æœ‰æˆå‘˜ |
| PROJ-001-04 | é¡¹ç›®è¿›åº¦ | åŸºäºä¸»ä»»åŠ¡ç»Ÿè®¡å®Œæˆç‡ | M | Super Admin, Team Admin |
| PROJ-001-05 | å½’æ¡£é¡¹ç›® | è½¯åˆ é™¤ï¼Œä¿ç•™æ•°æ® | L | Super Admin, Team Admin |
| PROJ-001-06 | ç¡¬åˆ é™¤é¡¹ç›® | ç‰©ç†åˆ é™¤ï¼ˆä»…å·²å½’æ¡£ï¼‰ | L | Super Admin |
| PROJ-001-07 | é¡¹ç›®æˆå‘˜ç®¡ç† | åŠ¨æ€æ·»åŠ /ç§»é™¤æˆå‘˜ | M | Super Admin, Team Admin |

#### æ•°æ®æ¨¡å‹

```dart
class Project {
  final int id;
  final String title;
  final String description;
  final ProjectStatus status;
  final int createdBy;
  final bool isArchived;
  final DateTime? archivedAt;
  final DateTime startDate;
  final DateTime endDate;
  final DateTime createdAt;
  final DateTime updatedAt;
  final List<ProjectMember> members;
  final double progress; // è®¡ç®—å±æ€§
}

enum ProjectStatus {
  planning,    // è§„åˆ’ä¸­
  pending,     // å¾…å¤„ç†
  inProgress,  // è¿›è¡Œä¸­
  completed,   // å·²å®Œæˆ
}

class ProjectMember {
  final int userId;
  final String username;
  final UserRole role;
}
```

---

### 2.3 ä»»åŠ¡ç®¡ç†æ¨¡å— (Task Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | TASK-001 |
| **æ¨¡å—åç§°** | ä»»åŠ¡ç®¡ç† |
| **ä¼˜å…ˆçº§** | P0 - æ ¸å¿ƒé˜»å¡æ¨¡å— |
| **æ¶‰åŠè§’è‰²** | Super Admin, Team Admin, Member |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§’è‰²æƒé™ |
|---------|---------|---------|--------|---------|
| TASK-001-01 | ä»»åŠ¡åˆ—è¡¨ | æ ‘å½¢/æ‰å¹³åˆ—è¡¨å±•ç¤º | M | æŒ‰è§’è‰²è¿‡æ»¤ |
| TASK-001-02 | åˆ›å»ºä¸»ä»»åŠ¡ | Level=1ï¼Œåˆ†é…è´Ÿè´£äºº | M | Super Admin, Team Admin |
| TASK-001-03 | åˆ›å»ºå­ä»»åŠ¡ | Level=2/3ï¼Œç»§æ‰¿çˆ¶çº§è´Ÿè´£äºº | M | ä»…ä»»åŠ¡è´Ÿè´£äºº |
| TASK-001-04 | ä»»åŠ¡è¯¦æƒ… | æŸ¥çœ‹è¯¦æƒ…ï¼ˆæƒé™è„±æ•ï¼‰ | M | æŒ‰æƒé™æ˜¾ç¤º |
| TASK-001-05 | æ›´æ–°ä»»åŠ¡ | éƒ¨åˆ†æ›´æ–°ï¼ˆçŠ¶æ€ã€æ—¶é—´ç­‰ï¼‰ | M | æŒ‰æƒé™æ“ä½œ |
| TASK-001-06 | ä»»åŠ¡å†å² | å˜æ›´å®¡è®¡æ—¥å¿— | M | æŒ‰æƒé™æŸ¥çœ‹ |
| TASK-001-07 | çŠ¶æ€æµè½¬ | æŒ‰è§„åˆ™å˜æ›´çŠ¶æ€ | L | è´Ÿè´£äººå¯æ“ä½œ |
| TASK-001-08 | æ‰¹é‡æ“ä½œ | æ‰¹é‡ä¿®æ”¹çŠ¶æ€ | L | æš‚ä¸æ”¯æŒ |

#### çŠ¶æ€æµè½¬è§„åˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ planning â”‚â”€â”€â”€â–ºâ”‚ pending  â”‚â”€â”€â”€â–ºâ”‚in_progressâ”‚â”€â”€â”€â–ºâ”‚completed â”‚
â”‚  è§„åˆ’ä¸­   â”‚    â”‚  å¾…å¤„ç†   â”‚    â”‚  è¿›è¡Œä¸­   â”‚    â”‚  å·²å®Œæˆ   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚               â”‚               â”‚               â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    å…è®¸åŒå‘æµè½¬
```

#### æ•°æ®æ¨¡å‹

```dart
class Task {
  final int id;
  final int projectId;
  final String title;
  final String description;
  final int assigneeId;
  final TaskStatus status;
  final TaskPriority priority;
  final int level; // 1=ä¸»ä»»åŠ¡, 2=å­ä»»åŠ¡, 3=å­™ä»»åŠ¡
  final int? parentId;
  final String path; // è·¯å¾„æšä¸¾ /1/12/34
  final DateTime? startDate;
  final DateTime? endDate;
  final OverdueFlag normalFlag; // normal, overdue
  final bool isOverdueNotified;
  final DateTime createdAt;
  final DateTime updatedAt;
  final List<Task> children; // å­ä»»åŠ¡åˆ—è¡¨
  final List<Attachment> attachments;
}

enum TaskStatus {
  planning,    // è§„åˆ’ä¸­
  pending,     // å¾…å¤„ç†
  inProgress,  // è¿›è¡Œä¸­
  completed,   // å·²å®Œæˆ
}

enum TaskPriority {
  urgent,  // ç´§æ€¥
  high,    // é«˜
  medium,  // ä¸­
  low,     // ä½
}

enum OverdueFlag {
  normal,  // æ­£å¸¸
  overdue, // å·²é€¾æœŸ
}

class TaskHistory {
  final int id;
  final int taskId;
  final int changedBy;
  final String fieldName;
  final String? oldValue;
  final String? newValue;
  final DateTime changedAt;
}
```

---

### 2.4 å¯è§†åŒ–æ¨¡å— (Visualization Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | VIZ-001 |
| **æ¨¡å—åç§°** | æ•°æ®å¯è§†åŒ– |
| **ä¼˜å…ˆçº§** | P1 - é‡è¦åŠŸèƒ½ |
| **æ¶‰åŠè§’è‰²** | Super Admin, Team Admin, Member |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§’è‰²æƒé™ |
|---------|---------|---------|--------|---------|
| VIZ-001-01 | æˆå‘˜é¦–é¡µå¡ç‰‡ | ä»Šæ—¥/æœ¬å‘¨/é€¾æœŸä»»åŠ¡ç»Ÿè®¡ | M | Member |
| VIZ-001-02 | ç®¡ç†å‘˜ä»ªè¡¨ç›˜ | é¡¹ç›®è¿›åº¦æ¦‚è§ˆå¡ç‰‡ | M | Super Admin, Team Admin |
| VIZ-001-03 | çœ‹æ¿è§†å›¾ | æŒ‰çŠ¶æ€åˆ†ç»„æ‹–æ‹½ | H | æŒ‰è§’è‰²è¿‡æ»¤ |
| VIZ-001-04 | ç”˜ç‰¹å›¾è§†å›¾ | æ—¶é—´è½´å±•ç¤º | H | æŒ‰è§’è‰²æ˜¾ç¤ºä¸åŒèŒƒå›´ |
| VIZ-001-05 | æ—¥å†è§†å›¾ | æŒ‰æ—¥æœŸåˆ†ç»„ | M | æŒ‰è§’è‰²è¿‡æ»¤ |
| VIZ-001-06 | æˆå‘˜å·¥ä½œé‡ | ç»Ÿè®¡è§†å›¾ | L | Super Admin, Team Admin |

#### æ•°æ®è§†å›¾æƒé™çŸ©é˜µ

| è§†å›¾ç±»å‹ | Super Admin | Team Admin | Member |
|---------|-------------|------------|--------|
| çœ‹æ¿-å…¨éƒ¨ä»»åŠ¡ | âœ… | âœ… | âŒ |
| çœ‹æ¿-æˆ‘çš„ä»»åŠ¡ | âœ… | âœ… | âœ… |
| ç”˜ç‰¹å›¾-å…¨éƒ¨ | âœ… | âœ… | âŒ |
| ç”˜ç‰¹å›¾-ä¸ªäºº | âœ… | âœ… | âœ… |
| æ—¥å†-å…¨éƒ¨ | âœ… | âœ… | âŒ |
| æ—¥å†-æˆ‘çš„ | âœ… | âœ… | âœ… |

---

### 2.5 æˆå‘˜ç®¡ç†æ¨¡å— (Member Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | MEMB-001 |
| **æ¨¡å—åç§°** | å›¢é˜Ÿæˆå‘˜ç®¡ç† |
| **ä¼˜å…ˆçº§** | P1 - é‡è¦åŠŸèƒ½ |
| **æ¶‰åŠè§’è‰²** | Super Admin, Team Admin |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§’è‰²æƒé™ |
|---------|---------|---------|--------|---------|
| MEMB-001-01 | æˆå‘˜åˆ—è¡¨ | æŸ¥çœ‹å›¢é˜Ÿæˆå‘˜ | L | Super Admin, Team Admin |
| MEMB-001-02 | é‚€è¯·æˆå‘˜ | è¾“å…¥usernameé‚€è¯·è®¿å®¢ | M | Super Admin, Team Admin |
| MEMB-001-03 | ä¿®æ”¹è§’è‰² | æ›´æ”¹æˆå‘˜è§’è‰² | L | Super Admin, Team Admin |
| MEMB-001-04 | ç§»é™¤æˆå‘˜ | ä»å›¢é˜Ÿç§»é™¤ | L | Super Admin, Team Admin |
| MEMB-001-05 | è®¿å®¢ç­‰å¾…é¡µ | æœªåŠ å…¥å›¢é˜Ÿæç¤º | L | Visitor |

---

### 2.6 é€šçŸ¥æ¨¡å— (Notification Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | NOTI-001 |
| **æ¨¡å—åç§°** | å®æ—¶é€šçŸ¥ä¸­å¿ƒ |
| **ä¼˜å…ˆçº§** | P1 - é‡è¦åŠŸèƒ½ |
| **æ¶‰åŠè§’è‰²** | æ‰€æœ‰è§’è‰² |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§¦å‘åœºæ™¯ |
|---------|---------|---------|--------|---------|
| NOTI-001-01 | é€šçŸ¥åˆ—è¡¨ | æŸ¥çœ‹å†å²é€šçŸ¥ | L | - |
| NOTI-001-02 | æ ‡è®°å·²è¯» | å•æ¡/å…¨éƒ¨æ ‡è®° | L | ç”¨æˆ·æ“ä½œ |
| NOTI-001-03 | å®æ—¶æ¨é€ | WebSocketæ¨é€ | M | çŠ¶æ€å˜æ›´/åˆ†é… |
| NOTI-001-04 | ä»»åŠ¡åˆ†é…é€šçŸ¥ | æ–°ä»»åŠ¡åˆ†é… | L | åˆ›å»ºä»»åŠ¡æ—¶ |
| NOTI-001-05 | çŠ¶æ€å˜æ›´é€šçŸ¥ | ä»»åŠ¡çŠ¶æ€å˜æ›´ | L | çŠ¶æ€å˜æ›´æ—¶ |
| NOTI-001-06 | é€¾æœŸæé†’ | æˆªæ­¢æ—¥æé†’ | L | å®šæ—¶ä»»åŠ¡ |
| NOTI-001-07 | é€¾æœŸé€šçŸ¥ | å·²é€¾æœŸæ ‡è®° | L | å®šæ—¶ä»»åŠ¡ |

#### é€šçŸ¥ç±»å‹

```dart
enum NotificationType {
  taskAssigned,   // ä»»åŠ¡åˆ†é…
  statusChanged,  // çŠ¶æ€å˜æ›´
  dueReminder,    // æˆªæ­¢æé†’
  overdue,        // é€¾æœŸé€šçŸ¥
}

class Notification {
  final int id;
  final int recipientId;
  final NotificationType type;
  final String title;
  final String content;
  final int? taskId;
  final bool isRead;
  final DateTime createdAt;
}
```

---

### 2.7 æ–‡ä»¶ç®¡ç†æ¨¡å— (File Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | FILE-001 |
| **æ¨¡å—åç§°** | é™„ä»¶ç®¡ç† |
| **ä¼˜å…ˆçº§** | P2 - å¢å¼ºåŠŸèƒ½ |
| **æ¶‰åŠè§’è‰²** | Super Admin, Team Admin, Member |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§’è‰²æƒé™ |
|---------|---------|---------|--------|---------|
| FILE-001-01 | ä¸Šä¼ é™„ä»¶ | MinIOé¢„ç­¾åURLä¸Šä¼  | M | ä»»åŠ¡è´Ÿè´£äºº |
| FILE-001-02 | ä¸‹è½½é™„ä»¶ | è·å–ä¸‹è½½é“¾æ¥ | L | æŒ‰æƒé™è®¿é—® |
| FILE-001-03 | é¢„è§ˆé™„ä»¶ | å›¾ç‰‡/PDFé¢„è§ˆ | M | æŒ‰æƒé™è®¿é—® |
| FILE-001-04 | åˆ é™¤é™„ä»¶ | åˆ é™¤è‡ªå·±ä¸Šä¼ çš„é™„ä»¶ | L | ä¸Šä¼ è€…/Admin |

#### æ•°æ®æ¨¡å‹

```dart
class Attachment {
  final int id;
  final String fileKey;
  final int taskId;
  final int uploadedBy;
  final String fileName;
  final String fileType;
  final int fileSize;
  final String url;
  final DateTime createdAt;
}
```

---

### 2.8 ç³»ç»Ÿè®¾ç½®æ¨¡å— (Settings Module)

| å±æ€§ | è¯´æ˜ |
|------|------|
| **æ¨¡å—ID** | SETT-001 |
| **æ¨¡å—åç§°** | ç³»ç»Ÿè®¾ç½® |
| **ä¼˜å…ˆçº§** | P2 - å¢å¼ºåŠŸèƒ½ |
| **æ¶‰åŠè§’è‰²** | Super Admin |

#### å­åŠŸèƒ½åˆ—è¡¨

| å­åŠŸèƒ½ID | åŠŸèƒ½åç§° | åŠŸèƒ½æè¿° | å¤æ‚åº¦ | è§’è‰²æƒé™ |
|---------|---------|---------|--------|---------|
| SETT-001-01 | ç³»ç»Ÿé…ç½® | åŸºç¡€ç³»ç»Ÿè®¾ç½® | L | Super Admin |
| SETT-001-02 | æ—¥å¿—æŸ¥çœ‹ | ç³»ç»Ÿæ“ä½œæ—¥å¿— | L | Super Admin |

---

## 3. æ¨¡å—ä¾èµ–å…³ç³»

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   è®¤è¯æ¨¡å—   â”‚
                    â”‚   Auth      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚  é¡¹ç›®ç®¡ç†    â”‚ â”‚  æˆå‘˜ç®¡ç†    â”‚ â”‚  ç³»ç»Ÿè®¾ç½®    â”‚
    â”‚  Project    â”‚ â”‚   Member    â”‚ â”‚   Settings  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚  ä»»åŠ¡ç®¡ç†    â”‚
    â”‚    Task     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯è§†åŒ–  â”‚   â”‚ é€šçŸ¥æ¨¡å— â”‚   â”‚ æ–‡ä»¶ç®¡ç† â”‚
â”‚  Viz    â”‚   â”‚Notificationâ”‚  â”‚  File   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. äº¤ä»˜é˜¶æ®µè§„åˆ’

### Phase 1: æ ¸å¿ƒåŸºç¡€ (MVP)
- AUTH-001: è®¤è¯æ¨¡å—
- PROJ-001: é¡¹ç›®ç®¡ç†ï¼ˆåŸºç¡€CRUDï¼‰
- TASK-001: ä»»åŠ¡ç®¡ç†ï¼ˆåŸºç¡€CRUDï¼‰
- VIZ-001-01/02: åŸºç¡€ä»ªè¡¨ç›˜

### Phase 2: åä½œå¢å¼º
- VIZ-001-03/04/05: å®Œæ•´å¯è§†åŒ–
- NOTI-001: é€šçŸ¥ç³»ç»Ÿ
- MEMB-001: æˆå‘˜ç®¡ç†

### Phase 3: åŠŸèƒ½å®Œå–„
- FILE-001: æ–‡ä»¶ç®¡ç†
- PROJ-001-07: é¡¹ç›®æˆå‘˜ç®¡ç†
- SETT-001: ç³»ç»Ÿè®¾ç½®

---

## 5. æŠ€æœ¯å®ç°è¦ç‚¹

### 5.1 Flutter Web æŠ€æœ¯é€‰å‹

| æ¨¡å— | æ¨èæ–¹æ¡ˆ | è¯´æ˜ |
|------|---------|------|
| çŠ¶æ€ç®¡ç† | flutter_bloc | å¤æ‚çŠ¶æ€ç®¡ç† |
| ç½‘ç»œè¯·æ±‚ | dio + retrofit | REST APIè°ƒç”¨ |
| WebSocket | web_socket_channel | å®æ—¶é€šä¿¡ |
| æœ¬åœ°å­˜å‚¨ | shared_preferences | Tokenå­˜å‚¨ |
| è·¯ç”±ç®¡ç† | go_router | å£°æ˜å¼è·¯ç”± |
| ç”˜ç‰¹å›¾ | è‡ªå®šä¹‰ç»„ä»¶ | åŸºäºflutter_gantt_chartæˆ–è‡ªç ” |
| çœ‹æ¿ | flutter_draggable | æ‹–æ‹½å®ç° |
| æ—¥å† | table_calendar | æ—¥å†è§†å›¾ |

### 5.2 å…³é”®ä¸šåŠ¡é€»è¾‘

#### æƒé™è„±æ•ç­–ç•¥
```dart
// ä»»åŠ¡è¯¦æƒ…è„±æ•
TaskDetail getTaskDetail(Task task, User currentUser) {
  // ç®¡ç†å‘˜æˆ–è´Ÿè´£äººï¼šå®Œæ•´æƒé™
  if (currentUser.isAdmin || task.assigneeId == currentUser.id) {
    return FullTaskDetail(task);
  }
  // å…¶ä»–æˆå‘˜ï¼šè„±æ•æ•°æ®
  return MaskedTaskDetail(
    id: task.id,
    title: task.title,
    status: TaskStatus.private, // çŠ¶æ€éšè—
    description: null,
    assignee: 'ğŸ”’ ç§æœ‰ä»»åŠ¡',
    canView: false,
  );
}
```

#### å±‚çº§æ§åˆ¶éªŒè¯
```dart
bool canCreateSubtask(Task parentTask, User currentUser) {
  // è§„åˆ™1ï¼šåªèƒ½ä¸ºè‡ªå·±çš„ä»»åŠ¡åˆ›å»ºå­ä»»åŠ¡
  if (parentTask.assigneeId != currentUser.id) return false;
  // è§„åˆ™2ï¼šå±‚çº§æ·±åº¦é™åˆ¶ä¸º3
  if (parentTask.level >= 3) return false;
  return true;
}
```

---

*æ–‡æ¡£ç‰ˆæœ¬: v1.0 | æœ€åæ›´æ–°: 2026-02-10*
