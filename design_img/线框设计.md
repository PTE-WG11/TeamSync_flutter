# TeamSync 团队协作管理系统 - 详细线框图设计

基于PRD和需求确认，我将设计一套完整的线框图系统。以下将展示核心页面的布局、结构和交互流程。

## 📐 整体设计原则

1. **布局结构**：左侧导航栏 + 顶部导航 + 主内容区
2. **角色区分**：通过功能可见性区分成员/管理员界面
3. **数据隔离**：脱敏显示、权限控制直观可见
4. **状态流**：清晰展示任务状态流转路径

---

## 1. 登录/注册流程

### 1.1 登录页面

```
┌─────────────────────────────────────────────────────┐
│                  TeamSync                           │
│                                                     │
│   [T]  TeamSync                                    │
│                                                     │
│   用户名/邮箱 [________________]                    │
│   密码        [________________]                    │
│                                                     │
│   [ 登录 ]                                         │
│                                                     │
│   还没有账户？ 立即注册                             │
└─────────────────────────────────────────────────────┘
```

### 1.2 注册页面

```
┌─────────────────────────────────────────────────────┐
│                  注册新账户                          │
│                                                     │
│   [T]  TeamSync                                    │
│                                                     │
│   用户名       [________________]                    │
│   邮箱         [________________]                    │
│   密码         [________________]                    │
│   确认密码     [________________]                    │
│                                                     │
│   [ 注册 ]                                         │
│                                                     │
│   已有账户？ 返回登录                               │
└─────────────────────────────────────────────────────┘
```

### 1.3 访客等待页面

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│          🔒 等待团队邀请                            │
│                                                     │
│   您已注册成功，但尚未加入任何团队。                 │
│   请联系团队管理员将您加入团队以开始协作。           │
│                                                     │
│   [ 重新检查邀请状态 ]                              │
│   [ 退出登录 ]                                      │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## 2. 应用主框架

### 2.1 整体布局

```
┌─────────────────────────────────────────────────────┐
│ 导航栏  [TeamSync]  首页 项目 团队 报表  [🔔3] [张] │
├─────────────────────────────────────────────────────┤
│                                                     │
│ 侧边栏                     主内容区                  │
│  ┌────────────────┐      ┌──────────────────────┐ │
│  │ 我的工作       │      │                      │ │
│  │  ▸ 我的任务    │      │                      │ │
│  │  ▸ 日历        │      │      页面内容        │ │
│  │  ▸ 文件        │      │                      │ │
│  │                │      │                      │ │
│  │ 项目           │      │                      │ │
│  │  ▸ 项目A       │      │                      │ │
│  │  ▸ 项目B       │      │                      │ │
│  │  ▸ 项目C       │      │                      │ │
│  │                │      │                      │ │
│  │ 归档项目       │      │                      │ │
│  │  ▸ 已归档项目  │      │                      │ │
│  └────────────────┘      └──────────────────────┘ │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**组件说明**：
- **顶部导航栏**：全局导航 + 通知中心 + 用户菜单
- **左侧边栏**：个人工作区 + 项目列表 + 归档项目
- **主内容区**：根据当前视图动态加载内容

---

## 3. 成员界面

### 3.1 成员首页 - 任务卡片视图

```
┌─────────────────────────────────────────────────────┐
│ 我的任务                                  [创建任务]│
├─────────────────────────────────────────────────────┤
│                                                     │
│  标签栏: [今日(3)] [本周(7)] [逾期(1)]              │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │  API接口开发                      🟢 进行中  │  │
│  │  TeamSync开发项目                            │  │
│  │  完成用户管理、项目管理相关API接口开发       │  │
│  │                                              │  │
│  │  🔴 高优先级   ⚠️ 逾期                      │  │
│  │                                              │  │
│  │  📅 截止: 2026-02-15    👤 张              │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │  UI设计稿评审                    🟢 已完成   │  │
│  │  TeamSync开发项目                            │  │
│  │  评审设计师提供的UI设计稿，提出修改意见      │  │
│  │                                              │  │
│  │  🟡 中优先级                                 │  │
│  │                                              │  │
│  │  📅 截止: 2026-02-08    👤 李              │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 3.2 成员项目视图 - 看板模式

```
┌─────────────────────────────────────────────────────┐
│ TeamSync开发项目                        [切换视图] │
├─────────────────────────────────────────────────────┤
│                                                     │
│  视图标签: [看板] [甘特图] [日历]                  │
│                                                     │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐     │
│  │ 规划中 (3) │ │ 待处理 (2) │ │ 进行中 (4) │     │
│  │            │ │            │ │            │     │
│  │ ┌────────┐ │ │ ┌────────┐ │ │ ┌────────┐ │     │
│  │ │API接口 │ │ │ │需求文档│ │ │ │UI设计 │ │     │
│  │ │开发    │ │ │ │编写    │ │ │ │评审    │ │     │
│  │ │        │ │ │ │⚠️ 逾期 │ │ │ │👤 李   │ │     │
│  │ └────────┘ │ │ └────────┘ │ │ └────────┘ │     │
│  │            │ │            │ │            │     │
│  │ ┌────────┐ │ │            │ │ ┌────────┐ │     │
│  │ │用户认证│ │ │            │ │ │移动端  │ │     │
│  │ │模块    │ │ │            │ │ │适配    │ │     │
│  │ │👤 张   │ │ │            │ │ │👤 王   │ │     │
│  │ └────────┘ │ │            │ │ └────────┘ │     │
│  └────────────┘ └────────────┘ └────────────┘     │
│                                                     │
│  ┌────────────┐                                    │
│  │ 已完成 (3) │                                    │
│  │            │                                    │
│  │ ┌────────┐ │                                    │
│  │ │市场调研│ │                                    │
│  │ │报告    │ │                                    │
│  │ │👤 刘   │ │                                    │
│  │ └────────┘ │                                    │
│  └────────────┘                                    │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**交互说明**：
- 成员只能看到和拖拽自己的任务卡片
- 他人任务显示为"🔒 无权查看"或脱敏状态
- 状态流转只能按顺序：规划中 → 待处理 → 进行中 → 已完成

### 3.3 成员甘特图视图

```
┌─────────────────────────────────────────────────────┐
│ 我的甘特图                          [本周] [月] [季]│
├─────────────────────────────────────────────────────┤
│                                                     │
│  时间轴: 2月10日 11日 12日 13日 14日 15日 16日     │
│                                                     │
│  API接口开发  [███████████████████████]            │
│              2月10日                 2月15日        │
│                                                     │
│    ▸ 用户认证接口 [███████]                         │
│              2月10日       2月11日                  │
│                                                     │
│    ▸ 项目管理接口 [███████████████]                 │
│              2月12日       2月14日                  │
│                                                     │
│  需求文档编写  [███████████⚠️]                      │
│              2月1日                  2月9日(逾期)   │
│                                                     │
│  UI设计稿评审  [████████] ✓                         │
│              2月5日       2月8日                    │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**特性说明**：
- 成员只能看到自己的主任务和子任务
- 子任务以树形结构展示，可折叠展开
- 逾期任务用⚠️标识
- 支持时间维度切换（周/月/季）

---

## 4. 管理员界面

### 4.1 管理员首页 - 项目仪表盘

```
┌─────────────────────────────────────────────────────┐
│ 项目仪表盘                                [创建项目]│
├─────────────────────────────────────────────────────┤
│                                                     │
│ 统计卡片:                                            │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐      │
│  │活跃项目│ │总任务数│ │完成率 │ │逾期任务│      │
│  │   12   │ │  156   │ │  87%  │ │   8    │      │
│  └────────┘ └────────┘ └────────┘ └────────┘      │
│                                                     │
│ 最近项目:                                            │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │ TeamSync开发项目                  🟢 进行中  │  │
│  │                                             │  │
│  │ [███████████████░░░░░░░] 65%                │  │
│  │ 12/20 个主任务完成                           │  │
│  │                                             │  │
│  │ 描述: 开发新一代团队协作管理系统...         │  │
│  │                                             │  │
│  │ 👥 8人参与  📅 2月1日 - 4月30日             │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │ 官网改版项目                       🟡 规划中  │  │
│  │                                             │  │
│  │ [█████░░░░░░░░░░░░░░░░] 30%                 │  │
│  │ 5/15 个主任务完成                            │  │
│  │                                             │  │
│  │ 描述: 公司官网重新设计...                   │  │
│  │                                             │  │
│  │ 👥 5人参与  📅 3月1日 - 5月15日             │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 4.2 管理员项目详情 - 看板视图

```
┌─────────────────────────────────────────────────────┐
│ TeamSync开发项目                        [创建任务] │
├─────────────────────────────────────────────────────┤
│ 进度: [███████████████░░░░░░░] 65% (12/20)         │
│                                                     │
│ 视图: [看板] [甘特图] [日历] [成员]                │
│                                                     │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐     │
│  │ 规划中 (5) │ │ 待处理 (3) │ │ 进行中 (7) │     │
│  │            │ │            │ │            │     │
│  │ ┌────────┐ │ │ ┌────────┐ │ │ ┌────────┐ │     │
│  │ │技术方案│ │ │ │API接口│ │ │ │UI设计 │ │     │
│  │ │设计    │ │ │ │开发   │ │ │ │评审 ✓  │ │     │
│  │ │👤 李   │ │ │ │👤 张  │ │ │ │👤 李   │ │     │
│  │ └────────┘ │ │ │⚠️ 逾期│ │ │ └────────┘ │     │
│  │            │ │ │ └────────┘ │ │            │     │
│  │ ┌────────┐ │ │ │            │ │ ┌────────┐ │     │
│  │ │数据库 │ │ │ │            │ │ │移动端 │ │     │
│  │ │设计    │ │ │ │            │ │ │适配    │ │     │
│  │ │👤 王   │ │ │ │            │ │ │👤 王   │ │     │
│  │ └────────┘ │ │ │            │ │ └────────┘ │     │
│  └────────────┘ └────────────┘ └────────────┘     │
│                                                     │
│  ┌────────────┐                                    │
│  │ 已完成 (5) │                                    │
│  │            │                                    │
│  │ ┌────────┐ │                                    │
│  │ │市场调研│ │                                    │
│  │ │报告 ✓  │ │                                    │
│  │ │👤 刘   │ │                                    │
│  │ └────────┘ │                                    │
│  └────────────┘                                    │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**管理员权限说明**：
- 可以看到所有成员的任务
- 可以拖拽所有任务卡片
- 可以创建项目、分配任务

### 4.3 管理员甘特图视图

```
┌─────────────────────────────────────────────────────┐
│ 项目甘特图                          [本周] [月] [季]│
├─────────────────────────────────────────────────────┤
│                                                     │
│  时间轴: 2月10日 11日 12日 13日 14日 15日 16日     │
│                                                     │
│  张: API接口开发 [███████████████████████]         │
│              2月10日                 2月15日        │
│                                                     │
│  李: UI设计稿评审 [████████] ✓                     │
│              2月5日       2月8日                    │
│                                                     │
│  王: 移动端适配   [███████████████]                │
│              2月12日       2月18日                  │
│                                                     │
│  刘: 市场调研报告 [████████] ✓                     │
│              2月1日       2月8日                    │
│                                                     │
│  赵: 需求文档编写 [███████████⚠️]                  │
│              2月1日                  2月9日(逾期)   │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**管理员视图特性**：
- 按负责人分组显示所有主任务
- 不同负责人用不同颜色区分
- 可以看到项目的整体时间线

---

## 5. 核心交互组件

### 5.1 任务详情模态框

```
┌─────────────────────────────────────────────────────┐
│ 任务详情                                     [✕]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│  API接口开发                                        │
│                                                     │
│  状态: 🟢 进行中     优先级: 🔴 高                 │
│  负责人: 张              截止: 2026-02-15          │
│  创建: 2026-02-01                                   │
│                                                     │
│  描述:                                              │
│  完成用户管理、项目管理、任务管理等相关API接口开发  │
│                                                     │
│  子任务: (2)                              [添加]    │
│  ┌──────────────────────────────────────────────┐  │
│  │ [✓] 用户认证接口                    已完成   │  │
│  │     实现登录、注册、Token刷新等接口          │  │
│  │     📅 2月10日 - 2月11日                     │  │
│  └──────────────────────────────────────────────┘  │
│  ┌──────────────────────────────────────────────┐  │
│  │ [🔄] 项目管理接口                   进行中   │  │
│  │     实现项目CRUD、成员管理等接口             │  │
│  │     📅 2月12日 - 2月14日                     │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  附件: (1)                                          │
│  ┌──────────────────────────────────────────────┐  │
│  │ 📄 API设计文档.pdf (2.3MB)                   │  │
│  │     上传: 李四 / 2026-02-05                  │  │
│  │     [预览] [下载] [删除]                      │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 5.2 创建任务模态框

```
┌─────────────────────────────────────────────────────┐
│ 创建新任务                                    [✕]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│  任务标题 [______________________________]          │
│                                                     │
│  任务描述 [______________________________]          │
│          [                              ]          │
│                                                     │
│  分配负责人 [张 ▼]                                  │
│                                                     │
│  优先级 [中 ▼]                                      │
│                                                     │
│  开始日期 [2026-02-10 ▾]                            │
│                                                     │
│  截止日期 [2026-02-15 ▾]                            │
│                                                     │
│  [ 取消 ]                 [ 创建任务 ]              │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 5.3 创建项目模态框

```
┌─────────────────────────────────────────────────────┐
│ 创建新项目                                    [✕]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│  项目名称 [______________________________]          │
│                                                     │
│  项目描述 [______________________________]          │
│          [                              ]          │
│                                                     │
│  开始日期 [2026-02-01 ▾]                            │
│                                                     │
│  结束日期 [2026-04-30 ▾]                            │
│                                                     │
│  分配成员 (至少选择1人)                             │
│  ┌──────────────────────────────────────────────┐  │
│  │ ☑ 张 三 (团队成员)                           │  │
│  │ ☑ 李 四 (团队管理员)                         │  │
│  │ ☑ 王 五 (团队成员)                           │  │
│  │ ☐ 赵 六 (团队成员)                           │  │
│  │ ☐ 孙 七 (团队管理员)                         │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  [ 取消 ]                 [ 创建项目 ]              │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 5.4 通知中心

```
┌─────────────────────────────────────────────────────┐
│ 通知中心                      [全部已读] [✕]        │
├─────────────────────────────────────────────────────┤
│                                                     │
│  🆕 未读 (2)                                         │
│  ┌──────────────────────────────────────────────┐  │
│  │ 新任务分配                                   │  │
│  │ 您被分配了新任务：API接口开发                │  │
│  │ 10分钟前                                     │  │
│  └──────────────────────────────────────────────┘  │
│  ┌──────────────────────────────────────────────┐  │
│  │ 任务状态更新                                 │  │
│  │ 任务 'UI设计稿评审' 状态已变更为已完成       │  │
│  │ 2小时前                                      │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  已读 (1)                                           │
│  ┌──────────────────────────────────────────────┐  │
│  │ 今日截止提醒                                 │  │
│  │ 任务 '需求文档编写' 今日截止                 │  │
│  │ 今天 09:00                                   │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  [ 清除已读 ]                                       │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## 6. 团队管理页面

### 6.1 团队成员管理

```
┌─────────────────────────────────────────────────────┐
│ 团队管理                              [邀请成员]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│  搜索成员 [__________]  角色筛选 [所有角色 ▼]      │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │ 成员        角色      加入时间   任务数 操作 │  │
│  ├──────────────────────────────────────────────┤  │
│  │ 张 三       团队成员  2025-08-15  8    ▾     │  │
│  │ 李 四       团队管理员 2025-06-10  12   ▾    │  │
│  │ 王 五       团队成员  2025-09-20  6    ▾     │  │
│  │ 赵 六       团队成员  2025-11-05  5    ▾     │  │
│  │ 孙 七       团队管理员 2025-07-30  10   ▾    │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  操作菜单:                                         │
│  ┌────────────────┐                                │
│  │ 更改为管理员   │                                │
│  │ 更改为成员     │                                │
│  │ ────────────── │                                │
│  │ 移除团队       │                                │
│  └────────────────┘                                │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 6.2 邀请成员模态框

```
┌─────────────────────────────────────────────────────┐
│ 邀请成员                                     [✕]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│  用户名或邮箱 [______________________________]      │
│                                                     │
│  (请输入已注册的用户名或邮箱)                       │
│                                                     │
│  角色 [团队成员 ▼]                                  │
│    ▸ 团队成员: 查看分配的任务，创建子任务           │
│    ▸ 团队管理员: 创建项目，分配任务，管理成员       │
│                                                     │
│  [ 取消 ]                 [ 发送邀请 ]              │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## 7. 归档项目页面

### 7.1 归档项目列表

```
┌─────────────────────────────────────────────────────┐
│ 已归档项目                           [超级管理员]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │ 旧官网项目                        🟢 已完成   │  │
│  │                                             │  │
│  │ [████████████████████] 100%                 │  │
│  │ 归档于: 2025-12-15                           │  │
│  │                                             │  │
│  │ 👥 6人参与  📅 2025-09-01 - 2025-12-10      │  │
│  │                                             │  │
│  │ (成员只能查看，管理员可操作)                 │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │ 内部测试项目                      🟢 已完成   │  │
│  │                                             │  │
│  │ [████████████████████] 100%                 │  │
│  │ 归档于: 2025-11-20                           │  │
│  │                                             │  │
│  │ 👥 4人参与  📅 2025-10-01 - 2025-11-15      │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  超级管理员操作: [硬删除项目] (不可恢复)           │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## 8. 状态流转示意图

### 8.1 任务状态流转

```
        创建项目
           ↓
    管理员创建主任务
           ↓
    ┌──────┴──────┐
    ↓             ↓
规划中         直接分配
    ↓             ↓
    └──────┬──────┘
           ↓
        待处理
           ↓
      进行中 ←┐
           ↓  │ (重新打开)
        已完成 │
           ↓  │
        已完成 │
           └──┘

子任务流转(仅负责人):
   规划中 → 待处理 → 进行中 → 已完成
```

### 8.2 权限矩阵示意图

```
┌───────────────┬──────────────┬──────────────┐
│   页面/功能   │   团队成员   │  团队管理员  │
├───────────────┼──────────────┼──────────────┤
│ 查看所有项目  │     ✅       │      ✅      │
├───────────────┼──────────────┼──────────────┤
│ 查看项目详情  │   🔒过滤     │      ✅      │
├───────────────┼──────────────┼──────────────┤
│ 创建任务      │     ❌       │      ✅      │
├───────────────┼──────────────┼──────────────┤
│ 创建子任务    │ ✅(仅自己)   │ ✅(仅自己)   │
├───────────────┼──────────────┼──────────────┤
│ 查看他人任务  │   🔒脱敏     │      ✅      │
├───────────────┼──────────────┼──────────────┤
│ 拖拽状态变更  │ ✅(仅自己)   │      ✅      │
└───────────────┴──────────────┴──────────────┘
```

---

## 9. 文件附件处理

### 9.1 附件上传流程

```
成员上传附件:
  点击上传 → 选择文件 → 自动上传到MinIO → 关联到任务

附件权限:
  - 上传者: 可预览、下载、删除
  - 任务负责人: 可预览、下载
  - 管理员: 可预览、下载、删除任何附件
  - 其他成员: 无权限访问

附件类型限制:
  📄 PDF, 📷 JPG/PNG, 📊 Excel/Word, 📦 ZIP
```

---

## 📋 设计总结

### 关键设计决策：

1. **双首页设计**：成员和管理员有完全不同的首页布局
2. **数据隔离**：通过脱敏显示和权限控制确保数据安全
3. **状态流转限制**：防止任务状态跳转混乱
4. **拖拽交互**：直观的任务状态变更方式
5. **实时通知**：WebSocket推送关键状态变更

### 视觉设计要点：

1. **颜色编码**：
   - 主色调：Teal (#0D9488) - 导航、主按钮
   - 状态色：规划中(灰)、待处理(黄)、进行中(青)、已完成(绿)
   - 优先级：紧急(红)、高(橙)、中(蓝)、低(灰)

2. **图标系统**：
   - 👤 负责人
   - 📅 截止日期
   - ⚠️ 逾期警告
   - 🔒 权限限制
   - ✓ 完成状态

3. **响应式考虑**：
   - 桌面端优先设计
   - 侧边栏可折叠以适应小屏幕
   - 看板视图在移动端切换为列表视图

这套线框图完整覆盖了TeamSync系统的所有核心页面和交互，可以作为开发团队的设计参考和实现指南。